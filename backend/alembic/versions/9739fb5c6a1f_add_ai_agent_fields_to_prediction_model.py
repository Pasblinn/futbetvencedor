"""Add AI Agent fields to Prediction model

Revision ID: 9739fb5c6a1f
Revises: 32ce35e7e614
Create Date: 2025-10-09 04:56:05.403152

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import sqlite

# revision identifiers, used by Alembic.
revision = '9739fb5c6a1f'
down_revision = '32ce35e7e614'
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    # Add AI Agent fields to predictions table
    op.add_column('predictions', sa.Column('ai_analyzed', sa.Boolean(), nullable=True))
    op.add_column('predictions', sa.Column('ai_analyzed_at', sa.DateTime(timezone=True), nullable=True))
    op.add_column('predictions', sa.Column('ai_analysis', sa.Text(), nullable=True))
    op.add_column('predictions', sa.Column('ai_recommendation', sa.String(), nullable=True))
    op.add_column('predictions', sa.Column('ai_risk_level', sa.String(), nullable=True))
    op.add_column('predictions', sa.Column('ai_confidence_delta', sa.Float(), nullable=True))
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    # Remove AI Agent fields from predictions table
    op.drop_column('predictions', 'ai_confidence_delta')
    op.drop_column('predictions', 'ai_risk_level')
    op.drop_column('predictions', 'ai_recommendation')
    op.drop_column('predictions', 'ai_analysis')
    op.drop_column('predictions', 'ai_analyzed_at')
    op.drop_column('predictions', 'ai_analyzed')
    # ### end Alembic commands ###